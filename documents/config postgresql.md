## راه اندازی دیتابیس postgresql و استفاده از آن در پروژه های جنگو



### نصب و راه اندازی

- به سایت اصلی برنامه به آدرس [(سایت)](https://www.postgresql.org)  رفته و طبق دستورات نسخه مناسب سیستم عامل خود را نصب میکنیم

#### 	نصب و راه اندازی در لینوکس

1. با استفاده از دستور sudo -u postgres psql میتوان این دیتابیس را نصب کرد 
2. با دستور sudo -i -u postgres و سپس وارد کردن دستور psql وارد محیط دیتابیس میشویم 
3. در تمام قسمت ها با دستور q\ میتوان از این محیط خارج شد



#### 	ایجاد کاربر جدید و دیتابیس

1. با استفده از دستور ;'create user myuser with encrypted password 'mypass میتوان یک کاربر جدید داخل دیتابیس ساخت 
2. با دستور ;create database mydb یک دیتابیس جدید ساخته میشود
3. با دستور ;grant all privileges on database mydb to myuser تمام دسترسی ها را به کاربر موردنظر میدهیم 



### اتصال دیتابیس postgrsql به django

​	برای اتصال دیتابیس postgrsql به جنگو باید از پکیج psycopg2 استفاده کنیم در سیستم عامل لینوکس باید نسخه 	باینری آن را با نام psycopg2-binary  نصب کنیم این فرایند با دستور pip install psycopg2-binary انجام میشود 	سپس طبق مراحل زیر پیش برویم

1. به فایل settings.py پروژه رفته قسمت مربوط به دیتابیس که یک دیکشنری با نام Database است را پیدا میکنیم

2. در قسمت 'ENGINE' دستور 'django.db.backends.postgresql' را وارد میکنیم

3. در قسمت 'NAME' نام دیتابیسی که ساختیم را وارد میکنیم

4. در قسمت 'USER' نام کاربری که با آن دیتابیس را ساختیم وارد میکنیم

5. در قسمت 'PASSWORD' گذرواژ را وارد میکنیم

6. در قسمت 'HOST' اگر پروژه روی سیستم اجرا میشد 'local host' را وارد میکنیم

7. و در قسمت 'PORT' پورت دیتابیس را وارد میکنیم که به صورت پیشفرض 5432 است

   به صورت کد زیر :

   ```python
   DATABASES = {
       'default': {
           'ENGINE': 'django.db.backends.postgresql',
           'NAME': 'sample',
           'USER': 'sample',
           'PASSWORD': 'sample',
           'HOST': 'localhost',
           'PORT': 5432
       }
   }
   
   
   ```

   

8. و با وارد کردن دستور python manage.py migrate اطلاعات را به دیتابیس جدید منتقل میکنیم









